<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>黄明志 -- 悔过书 单曲 更多好音乐，尽在无线电音乐~</title>
  <style>
    :root{
      --bg:#6e5239;
      --muted:#c2b29a;
      --accent:#56b36a;
      --white: #fff;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Microsoft Yahei", Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:var(--bg);
      color:var(--white);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding:18px 14px;
    }
    .container{max-width:520px;margin:0 auto}

    .cover{
      width:100%;
      max-width:360px;
      margin:0 auto 18px;
      border-radius:12px;
      overflow:hidden;
      box-shadow:0 6px 18px rgba(0,0,0,0.35);
    }
    .cover img{display:block;width:100%;height:auto}

    .title-row{margin-top:6px}
    .title{
      font-size:20px;
      font-weight:900;
      color:#fff;
    }

    .progress-bar{
      width:100%;
      margin:14px 0;
    }

    .controls{display:flex;align-items:center;justify-content:center;margin:12px 0}
    .play{
      width:52px;height:52px;
      border-radius:50%;
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      background:rgba(255,255,255,0.08);
    }
    .play img{width:32px;height:32px}

    /* 歌词窗口 */
    #lyrics{
      height:200px;
      overflow:hidden;
      margin-top:16px;
      text-align:center;
      font-size:14px;
      line-height:1.6;
      color:var(--muted);
      position:relative;
    }
    #lyrics p{
      margin:6px 0;
      transition:color 0.3s;
    }
    #lyrics p.active{
      color:var(--white);
      font-weight:700;
      font-size:16px;
    }
    
    .meta{display:flex;align-items:flex-start;margin-top:20px}
    .avatar{width:64px;height:64px;border-radius:50%;overflow:hidden;margin-right:12px}
    .avatar img{width:100%;height:100%;object-fit:cover}
    .meta .info h3{margin:0;font-size:15px}
    .meta .info p{margin:6px 0 0;color:var(--muted);font-size:13px}
  </style>
</head>
<body>
  <div class="container" role="main">
    <div class="cover">
      <img src="https://file1-8ap.pages.dev/7688802.jpg" alt="专辑封面">
    </div>

    <div>
      <div class="title-row">
        <div class="title">黄明志 - 悔过书
          <span style="font-size:12px;background:rgba(255,255,255,0.08);padding:3px 6px;border-radius:8px;margin-left:8px">VIP</span>
        </div>
      </div>

      <input type="range" id="progressBar" class="progress-bar" value="0" min="0" step="1">

      <div class="controls">
        <div class="play" id="playBtn">
          <img id="playIcon" src="https://file1-8ap.pages.dev/play.png" alt="play">
        </div>
      </div>

      <!-- 歌词窗口 -->
      <div id="lyrics"></div>

      <div class="meta">
        <div class="avatar">
          <img src="https://file1-8ap.pages.dev/namewee.jpg" alt="歌手头像">
        </div>
        <div class="info">
          <h3>歌手</h3>
          <p>黄明志</p>
        </div>
      </div>
    </div>
  </div>

<div class="meta" style="margin-top:12px; cursor:pointer;">
  <div class="avatar" style="width:64px; height:64px; border-radius:12px; overflow:hidden;">
    <img src="https://file1-8ap.pages.dev/7688802.jpg" alt="专辑封面" style="width:100%;height:100%;object-fit:cover;">
  </div>
  <div class="info">
    <h3 style="font-weight:700;color:#fff;">悔过书</h3>
    <p style="color:var(--muted);margin-top:4px;">黄明志 · 2025 · 华语 · 1首</p>
  </div>
</div>
  <audio id="audio" src="https://file1-8ap.pages.dev/07%20%E6%82%94%E8%BF%87%E4%B9%A6-new.mp3"></audio>

  <script>
    const audio = document.getElementById("audio");
    const playBtn = document.getElementById("playBtn");
    const playIcon = document.getElementById("playIcon");
    const progressBar = document.getElementById("progressBar");
    const lyricsContainer = document.getElementById("lyrics");

    let isPlaying = false;
    let lyrics = [];

    // 切换播放
    playBtn.addEventListener("click", () => {
      if (isPlaying) {
        audio.pause();
      } else {
        audio.play();
      }
    });

    audio.addEventListener("play", () => {
      isPlaying = true;
      playIcon.src = "https://file1-8ap.pages.dev/pause.png";
    });

    audio.addEventListener("pause", () => {
      isPlaying = false;
      playIcon.src = "https://file1-8ap.pages.dev/play.png";
    });

    audio.addEventListener("timeupdate", () => {
      progressBar.max = Math.floor(audio.duration);
      progressBar.value = Math.floor(audio.currentTime);

      // 同步歌词
      for (let i = 0; i < lyrics.length; i++) {
        if (audio.currentTime >= lyrics[i].time &&
            (i === lyrics.length - 1 || audio.currentTime < lyrics[i+1].time)) {
          const active = lyricsContainer.querySelector(".active");
          if (active) active.classList.remove("active");
          const currentLine = lyricsContainer.children[i];
          if (currentLine) {
            currentLine.classList.add("active");
            lyricsContainer.scrollTop = currentLine.offsetTop - lyricsContainer.clientHeight/2 + currentLine.clientHeight/2;
          }
          break;
        }
      }
    });

    progressBar.addEventListener("input", () => {
      audio.currentTime = progressBar.value;
    });

    // 加载 LRC
    fetch("https://file1-8ap.pages.dev/1.lrc")
      .then(res => res.text())
      .then(text => {
        const lines = text.split("\n");
        lyrics = [];
        lyricsContainer.innerHTML = "";
        const timeReg = /\[(\d+):(\d+(?:\.\d+)?)\]/;
        lines.forEach(line => {
          const match = timeReg.exec(line);
          if (match) {
            const min = parseInt(match[1]);
            const sec = parseFloat(match[2]);
            const time = min * 60 + sec;
            const content = line.replace(timeReg, "").trim();
            if (content) {
              lyrics.push({time, content});
              const p = document.createElement("p");
              p.textContent = content;
              lyricsContainer.appendChild(p);
            }
          }
        });
      });
  </script>
</body>
</html>
